CONSTANTS = {
    16: ">++++[<++++>-]<",
    17: ">++++[<++++>-]<+",
    18: ">+++[<++++++>-]<",
    19: ">+++[<++++++>-]<+",
    20: ">++++[<+++++>-]<",
    21: ">+++[<+++++++>-]<",
    22: ">+++[<+++++++>-]<+",
    23: ">++++[<++++++>-]<-",
    24: ">++++[<++++++>-]<",
    25: ">+++++[<+++++>-]<",
    26: ">+++++[<+++++>-]<+",
    27: ">+++[<+++++++++>-]<",
    28: ">++++[<+++++++>-]<",
    29: ">++++[<+++++++>-]<+",
    30: ">+++++[<++++++>-]<",
    31: ">+++++[<++++++>-]<+",
    32: ">++++[<++++++++>-]<",
    33: ">++++[<++++++++>-]<+",
    34: ">--[<-->+++++++]<--",
    35: ">--[<-->+++++++]<-",
    36: ">--[<-->+++++++]<",
    37: ">---[<+>+++++++]<",
    38: ">---[<+>+++++++]<+",
    39: ">---[<+>+++++++]<++",
    40: ">--[<+>++++++]<---",
    41: ">--[<+>++++++]<--",
    42: ">--[<+>++++++]<-",
    43: ">--[<+>++++++]<",
    44: ">--[<+>++++++]<+",
    45: ">--[<+>++++++]<++",
    46: ">--[<+>++++++]<+++",
    47: ">-[<+>-----]<----",
    48: ">-[<+>-----]<---",
    49: ">-[<+>-----]<--",
    50: ">-[<+>-----]<-",
    51: ">-[<+>-----]<",
    52: ">-[<+>-----]<+",
    53: ">-[<+>-----]<++",
    54: ">-[<+>-----]<+++",
    55: ">-[<+>-----]<++++",
    56: ">-[<+>-----]<+++++",
    57: ">-[<+>+++++++++]<",
    58: ">-[<+>+++++++++]<+",
    59: ">----[<+>----]<----",
    60: ">----[<+>----]<---",
    61: ">----[<+>----]<--",
    62: ">----[<+>----]<-",
    63: ">----[<+>----]<",
    64: ">----[<+>----]<+",
    65: ">----[<+>----]<++",
    66: ">----[<+>----]<+++",
    67: ">----[<--->----]<",
    68: ">----[<--->----]<+",
    69: ">----[<--->----]<++",
    70: ">-[<+>-------]<---",
    71: ">-[<+>-------]<--",
    72: ">-[<+>-------]<-",
    73: ">-[<+>-------]<",
    74: ">-[<+>-------]<+",
    75: ">-[<+>-------]<++",
    76: ">-[<+>-------]<+++",
    77: ">-[<+>---]<--------",
    78: ">-[<+>---]<-------",
    79: ">-[<+>---]<------",
    80: ">-[<+>---]<-----",
    81: ">-[<+>---]<----",
    82: ">-[<+>---]<---",
    83: ">-[<+>---]<--",
    84: ">-[<+>---]<-",
    85: ">-[<+>---]<",
    86: ">-[<+>---]<+",
    87: ">-[<+>---]<++",
    88: ">-[<+>---]<+++",
    89: ">-[<+>---]<++++",
    90: ">-[<+>---]<+++++",
    91: ">-[<+>---]<++++++",
    92: ">-[<+>---]<+++++++",
    93: ">-[<+>---]<++++++++",
    94: ">-[<+>---]<+++++++++",
    95: ">-[<++>-----]<-------",
    96: ">-[<++>-----]<------",
    97: ">-[<++>-----]<-----",
    98: ">-[<++>-----]<----",
    99: ">-[<++>-----]<---",
    100: ">-[<++>-----]<--",
    101: ">-[<++>-----]<-",
    102: ">-[<++>-----]<",
    103: ">-[<++>-----]<+",
    104: ">-[<++>-----]<++",
    105: ">-[<++>-----]<+++",
    106: ">-[<++>-----]<++++",
    107: ">-[<++>-----]<+++++",
    108: ">-[<-->-------]<--",
    109: ">-[<-->-------]<-",
    110: ">-[<-->-------]<",
    111: ">-[<-->-------]<+",
    112: ">-[<-->-------]<++",
    113: ">-[<++>+++++++++]<-",
    114: ">-[<++>+++++++++]<",
    115: ">-[<++>+++++++++]<+",
    116: ">--------[<+++>--]<",
    117: ">----[<+++++>--]<-",
    118: ">----[<+++++>--]<",
    119: ">------[<+++>--]<",
    120: ">----[<+++>--]<--",
    121: ">----[<+++>--]<-",
    122: ">----[<+++>--]<",
    123: ">--[<+>--]<----",
    124: ">--[<+>--]<---",
    125: ">--[<+>--]<--",
    126: ">--[<+>--]<-",
    127: ">--[<+>--]<",
    128: ">--[<->--]<-",
    129: ">--[<->--]<",
    130: ">--[<->--]<+",
    131: ">--[<->--]<++",
    132: ">--[<->--]<+++",
    133: ">--[<->--]<++++",
    134: ">----[<--->--]<",
    135: ">----[<--->--]<+",
    136: ">----[<--->--]<++",
    137: ">------[<--->--]<",
    138: ">----[<----->--]<",
    139: ">----[<----->--]<+",
    140: ">--------[<--->--]<",
    141: ">-[<-->+++++++++]<-",
    142: ">-[<-->+++++++++]<",
    143: ">-[<-->+++++++++]<+",
    144: ">-[<++>-------]<--",
    145: ">-[<++>-------]<-",
    146: ">-[<++>-------]<",
    147: ">-[<++>-------]<+",
    148: ">-[<++>-------]<++",
    149: ">-[<-->-----]<-----",
    150: ">-[<-->-----]<----",
    151: ">-[<-->-----]<---",
    152: ">-[<-->-----]<--",
    153: ">-[<-->-----]<-",
    154: ">-[<-->-----]<",
    155: ">-[<-->-----]<+",
    156: ">-[<-->-----]<++",
    157: ">-[<-->-----]<+++",
    158: ">-[<-->-----]<++++",
    159: ">-[<-->-----]<+++++",
    160: ">-[<-->-----]<++++++",
    161: ">-[<-->-----]<+++++++",
    162: ">-[<->---]<---------",
    163: ">-[<->---]<--------",
    164: ">-[<->---]<-------",
    165: ">-[<->---]<------",
    166: ">-[<->---]<-----",
    167: ">-[<->---]<----",
    168: ">-[<->---]<---",
    169: ">-[<->---]<--",
    170: ">-[<->---]<-",
    171: ">-[<->---]<",
    172: ">-[<->---]<+",
    173: ">-[<->---]<++",
    174: ">-[<->---]<+++",
    175: ">-[<->---]<++++",
    176: ">-[<->---]<+++++",
    177: ">-[<->---]<++++++",
    178: ">-[<->---]<+++++++",
    179: ">-[<->---]<++++++++",
    180: ">-[<->-------]<---",
    181: ">-[<->-------]<--",
    182: ">-[<->-------]<-",
    183: ">-[<->-------]<",
    184: ">-[<->-------]<+",
    185: ">-[<->-------]<++",
    186: ">-[<->-------]<+++",
    187: ">----[<+++>----]<--",
    188: ">----[<+++>----]<-",
    189: ">----[<+++>----]<",
    190: ">----[<->----]<---",
    191: ">----[<->----]<--",
    192: ">----[<->----]<-",
    193: ">----[<->----]<",
    194: ">----[<->----]<+",
    195: ">----[<->----]<++",
    196: ">----[<->----]<+++",
    197: ">----[<->----]<++++",
    198: ">-[<->+++++++++]<-",
    199: ">-[<->+++++++++]<",
    200: ">-[<->-----]<-----",
    201: ">-[<->-----]<----",
    202: ">-[<->-----]<---",
    203: ">-[<->-----]<--",
    204: ">-[<->-----]<-",
    205: ">-[<->-----]<",
    206: ">-[<->-----]<+",
    207: ">-[<->-----]<++",
    208: ">-[<->-----]<+++",
    209: ">-[<->-----]<++++",
    210: ">--[<->++++++]<---",
    211: ">--[<->++++++]<--",
    212: ">--[<->++++++]<-",
    213: ">--[<->++++++]<",
    214: ">--[<->++++++]<+",
    215: ">--[<->++++++]<++",
    216: ">--[<->++++++]<+++",
    217: ">---[<->+++++++]<--",
    218: ">---[<->+++++++]<-",
    219: ">---[<->+++++++]<",
    220: ">--[<++>+++++++]<",
    221: ">--[<++>+++++++]<+",
    222: ">--[<++>+++++++]<++",
    223: ">----[<-------->+]<-",
    224: ">----[<-------->+]<",
    225: ">-----[<------>+]<-",
    226: ">-----[<------>+]<",
    227: ">----[<------->+]<-",
    228: ">----[<------->+]<",
    229: ">---[<--------->+]<",
    230: ">-----[<----->+]<-",
    231: ">-----[<----->+]<",
    232: ">----[<------>+]<",
    233: ">----[<------>+]<+",
    234: ">---[<------->+]<-",
    235: ">---[<------->+]<",
    236: ">----[<----->+]<",
    237: ">---[<------>+]<-",
    238: ">---[<------>+]<",
    239: ">----[<---->+]<-",
    240: ">----[<---->+]<",
    241: ">---[<----->+]<",
}

_program = "++++++++++[>+++++++>++++++++++>+++>+<<<<-]>++.>+.+++++++..+++.>++.<<+++++++++++++++.>.+++.------.--------.>+.>.+++."
program = ">>+++++++>>++>>++++>>+++++++>>+>>++++>>+>>+++>>+>>+++++>>+>>++>>+>>++++++>>++>>++++>>+++++++>>+>>+++++>>++>>+>>+>>++++>>+++++++>>+>>+++++>>+>>+>>+>>++++>>+++++++>>+>>+++++>>++++++++++++++>>+>>+>>++++>>+++++++>>+>>+++++>>++>>+>>+>>++++>>+++++++>>+>>+++++>>+++++++++++++++++++++++++++++>>+>>+>>++++>>+++++++>>+>>+++++>>++>>+>>+>>+++++>>+>>++++++>>+>>++>>+>>++++++>>+>>++>>+>>++++++>>+>>++>>+>>++++++>>+>>++>>+>>++++++>>+>>++>>+>>++++++>>+>>++>>+>>++++++>>++>>++++>>+++++++>>+>>+++++>>+++++++>>+>>+++++>>+>>+>>+>>++++>>+>>++>>+>>++++++>>+>>+++++>>+++++++>>+>>++++>>+>>+>>++>>+++++>>+>>+++>>+>>++++>>+>>++>>+>>++++++>>+>>+++++>>+++++++++++++++++++>>++>>++>>+++>>++>>+>>++>>++++>>+++++++>>++>>+++++>>++++++++++>>+>>++>>++++>>+>>++>>+>>++++++>>++++++>>+>>+>>+++++>>+>>++++++>>++>>+++++>>+++++++>>++>>++++>>+>>++++++[<<]>>[>++++++[-<<++++++++++>>]<<++..------------------->[-<.>>+<]>[-<+>]>]<<[-[-[-[-[-[-[>++>]<+++++++++++++++++++++++++++++>]<++>]<++++++++++++++>]<+>]<++>]<<[->.<]<<]"

multiply = ",>,<[>[>+>+<<-]>>[<<+>>-]<<<-].>.>."

class BFInterpreter:
    def __init__(self, interactive=False):
        self.interactive = interactive
    def run(self, program, inputs=None):
        tape = [0] * 30000
        pc = 0
        ptr = 0
        stack = []
        jmp = False
        open = 0
        output = ""
        while True:
            try:
                # print(tape[:10])
                c = program[pc]
                # print(ptr, list(chr(c) for c in tape[:14]), output)
            except IndexError:
                break
            if not jmp:
                if c == ">":
                    ptr += 1
                if c == "<":
                    ptr -= 1
                elif c == "+":
                    tape[ptr] = (tape[ptr] + 1) % 256
                elif c == "-":
                    tape[ptr] = (tape[ptr] - 1) % 256
                elif c == ",":
                    if self.interactive:
                        tape[ptr] = int(input(f"tape[{ptr}] = "))
                    else:
                        tape[ptr] = inputs.pop()
                elif c == ".":
                    if self.interactive:
                        print(chr(tape[ptr]), end="")
                    output += chr(tape[ptr])
            if c == "[":
                if not jmp:
                    if tape[ptr] == 0:
                        jmp = True
                        open = 1
                    else:
                        stack.append(pc)
                else:
                    open += 1
            elif c == "]":
                if not jmp:
                    pc = stack.pop() - 1
                else:
                    open -= 1
                    if not open:
                        jmp = False
            pc += 1
        return output
    
def number(n):
    n = n % 256
    if n < 16: 
        return n * "+"
    elif n > 241:
        return "-" * (256 - n)
    return CONSTANTS[n]
        
def optimize(program):
    program = program.replace("<>", "")
    program = program.replace("><", "")
    program = program.replace("+-", "")
    program = program.replace("-+", "")
    return program
    
def put_str(string):
    return f">{'>'.join(number(ord(c)) for c in string)}[<]>"
        
if __name__ == "__main__":
    interp = BFInterpreter(interactive=True)
    # print(all(ord(interp.run(number(n) + ".")[0]) == n for n in range(256)))
    helloworld = put_str("Dickmilch!\n") + "[[.>]<[<]>]"
    helloworld = optimize(helloworld)
    print(helloworld)
    # interp.run(helloworld)
